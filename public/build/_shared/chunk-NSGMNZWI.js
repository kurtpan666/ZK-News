import{a as f}from"/build/_shared/chunk-6QBFS4I5.js";import{a as b}from"/build/_shared/chunk-OIVM2HRQ.js";import{h as p}from"/build/_shared/chunk-MC7GRPCH.js";import{c as u,e as C,g as c}from"/build/_shared/chunk-EFF4OLHG.js";c();var i=u(C());c();var e=u(C());function g(n){let{creationTime:s,collapsedChildrenCommentsCount:m,id:t,indentationLevel:a,isCollapsed:r,submitterId:o,text:d,toggleCollapseComment:l}=n,y=e.useCallback(()=>{l(t)},[l,t]);return e.createElement("tr",{className:"athing comtr ",id:t.toString()},e.createElement("td",null,e.createElement("table",{style:{border:"0"}},e.createElement("tbody",null,e.createElement("tr",null,e.createElement("td",{className:"ind"},e.createElement("img",{alt:"",src:b,height:"1",width:a*40})),e.createElement("td",{style:{verticalAlign:"top"},className:"votelinks"},e.createElement("div",{style:{textAlign:"center"}},e.createElement("a",{id:`up_${t}`,href:`vote?id=${t}&how=up&auth=4eb97bf0d2568aa743691210b904f0c5182bb0fc&goto=item?id=${t}`},e.createElement("div",{className:"votearrow",title:"upvote"})))),e.createElement("td",{className:"default"},e.createElement("div",{style:{marginTop:"2px",marginBottom:"-10px"}},e.createElement("span",{className:"comhead"},e.createElement(p,{className:"hnuser",to:`/user?id=${o}`},o),e.createElement("span",{className:"age"}," ",e.createElement(p,{to:`/item?id=${t}`},f(s)))," ",e.createElement("span",{id:"unv_15238246"}),e.createElement("span",{className:"par"})," ",e.createElement("span",{className:"togg",id:"24",onClick:y},r?`[${m?`${m+1} more`:"+"}] `:"[-]"),e.createElement("span",{className:"storyon"}))),e.createElement("br",null),e.createElement("div",{key:"help",className:"comment"},e.createElement("span",{className:"c00"},!r&&e.createElement(e.Fragment,null,e.createElement("div",{dangerouslySetInnerHTML:{__html:d}}),e.createElement("div",{className:"reply"},e.createElement("p",{style:{fontSize:"1"}},e.createElement(p,{to:`/reply?id=${t}&goto=item?id=${t}`},"reply"))))))))))))}function v(n){return n.length+n.reduce((s,m)=>(m.comments&&(s+=v(m.comments)),s),0)}function h(n,s,m,t,a,r){for(let o of s){if(typeof o=="number")continue;let d=a[o.id],l=o.comments;n.push(i.createElement(g,{key:o.id,collapsedChildrenCommentsCount:d?v(l):void 0,submitterId:o.submitterId,text:o.text,toggleCollapseComment:r,creationTime:o.creationTime,id:o.id,indentationLevel:m,isCollapsed:d})),!d&&Array.isArray(l)&&l.length>0&&h(n,l,m+(t?1:0),t,a,r)}return n}function $(n){let{comments:s,shouldIndent:m}=n,[t,a]=i.useState({}),r=i.useCallback(o=>{a({...t,[o]:!t[o]})},[t,a]);return i.createElement("table",{className:"comment-tree",style:{border:"0"}},i.createElement("tbody",null,h([],s,0,m,t,r)))}export{$ as a};

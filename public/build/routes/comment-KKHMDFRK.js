import{a as f}from"/build/_shared/chunk-4EU6SQ7H.js";import{a as c,b as m}from"/build/_shared/chunk-EN27VTUB.js";import{d as s,e as u}from"/build/_shared/chunk-SXRUWXCK.js";import{b as a}from"/build/_shared/chunk-MC7GRPCH.js";import{c as d,g as t}from"/build/_shared/chunk-EFF4OLHG.js";t();t();var g=d(f());var S=async({request:n})=>{let e=(await m(n.headers.get("Cookie"))).get(c.USER_ID);u(e,"Must be logged in to comment.");let o=await n.formData(),r=+o.get("parent");s(r,'"parent" is required.');let i=o.get("text");s(i,'"text" is required.');let p=o.get("goto");return await g.commentService.createComment(r,e,i,e),a(p||`/item?${r}`)};export{S as action};

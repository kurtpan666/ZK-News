import{a as P}from"/build/_shared/chunk-4EU6SQ7H.js";import{a as c}from"/build/_shared/chunk-F7PSREVK.js";import"/build/_shared/chunk-GIHLUJCG.js";import{a as m,b as u}from"/build/_shared/chunk-EN27VTUB.js";import{a as r,b as d,c as p,d as g}from"/build/_shared/chunk-SXRUWXCK.js";import{b as t}from"/build/_shared/chunk-MC7GRPCH.js";import{c as U,g as e}from"/build/_shared/chunk-EFF4OLHG.js";e();e();var h=U(P());var R=async({request:s})=>{let l=await u(s.headers.get("Cookie")),o=p(s),i=o.get(r.ID),f=o.get(r.HOW),n=o.get(r.GOTO),a=l.get(m.USER_ID);if(!a)return t(`/login?how=${c.LOGIN_UPVOTE}goto=${n}`);if(g(i,'"id" must be provided.'),f!==d.UNVOTE)return await h.itemService.upvoteItem(+i,a),t(n||"/")};export{R as loader};
